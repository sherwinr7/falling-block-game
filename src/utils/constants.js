// Game board dimensions
export const BOARD_WIDTH = 10;
export const BOARD_HEIGHT = 20;
export const BOARD_HIDDEN_ROWS = 2;
export const BOARD_TOTAL_HEIGHT = BOARD_HEIGHT + BOARD_HIDDEN_ROWS;

// Cell size for rendering
export const CELL_SIZE = 30;

// Tetromino shapes with rotation states
// Each piece has up to 4 rotation states (0, 1, 2, 3)
export const TETROMINOES = {
  I: {
    color: '#00f0f0',
    shapes: [
      [[0,0,0,0],
       [1,1,1,1],
       [0,0,0,0],
       [0,0,0,0]],
      [[0,0,1,0],
       [0,0,1,0],
       [0,0,1,0],
       [0,0,1,0]],
      [[0,0,0,0],
       [0,0,0,0],
       [1,1,1,1],
       [0,0,0,0]],
      [[0,1,0,0],
       [0,1,0,0],
       [0,1,0,0],
       [0,1,0,0]]
    ]
  },
  O: {
    color: '#f0f000',
    shapes: [
      [[1,1],
       [1,1]],
      [[1,1],
       [1,1]],
      [[1,1],
       [1,1]],
      [[1,1],
       [1,1]]
    ]
  },
  T: {
    color: '#a000f0',
    shapes: [
      [[0,1,0],
       [1,1,1],
       [0,0,0]],
      [[0,1,0],
       [0,1,1],
       [0,1,0]],
      [[0,0,0],
       [1,1,1],
       [0,1,0]],
      [[0,1,0],
       [1,1,0],
       [0,1,0]]
    ]
  },
  S: {
    color: '#00f000',
    shapes: [
      [[0,1,1],
       [1,1,0],
       [0,0,0]],
      [[0,1,0],
       [0,1,1],
       [0,0,1]],
      [[0,0,0],
       [0,1,1],
       [1,1,0]],
      [[1,0,0],
       [1,1,0],
       [0,1,0]]
    ]
  },
  Z: {
    color: '#f00000',
    shapes: [
      [[1,1,0],
       [0,1,1],
       [0,0,0]],
      [[0,0,1],
       [0,1,1],
       [0,1,0]],
      [[0,0,0],
       [1,1,0],
       [0,1,1]],
      [[0,1,0],
       [1,1,0],
       [1,0,0]]
    ]
  },
  J: {
    color: '#0000f0',
    shapes: [
      [[1,0,0],
       [1,1,1],
       [0,0,0]],
      [[0,1,1],
       [0,1,0],
       [0,1,0]],
      [[0,0,0],
       [1,1,1],
       [0,0,1]],
      [[0,1,0],
       [0,1,0],
       [1,1,0]]
    ]
  },
  L: {
    color: '#f0a000',
    shapes: [
      [[0,0,1],
       [1,1,1],
       [0,0,0]],
      [[0,1,0],
       [0,1,0],
       [0,1,1]],
      [[0,0,0],
       [1,1,1],
       [1,0,0]],
      [[1,1,0],
       [0,1,0],
       [0,1,0]]
    ]
  }
};

export const PIECE_TYPES = ['I', 'O', 'T', 'S', 'Z', 'J', 'L'];

// Wall kick data for Super Rotation System (SRS)
// Format: rotation_from -> rotation_to: [[x, y], ...]
export const WALL_KICKS = {
  JLSTZ: {
    '0->1': [[0,0], [-1,0], [-1,1], [0,-2], [-1,-2]],
    '1->0': [[0,0], [1,0], [1,-1], [0,2], [1,2]],
    '1->2': [[0,0], [1,0], [1,-1], [0,2], [1,2]],
    '2->1': [[0,0], [-1,0], [-1,1], [0,-2], [-1,-2]],
    '2->3': [[0,0], [1,0], [1,1], [0,-2], [1,-2]],
    '3->2': [[0,0], [-1,0], [-1,-1], [0,2], [-1,2]],
    '3->0': [[0,0], [-1,0], [-1,-1], [0,2], [-1,2]],
    '0->3': [[0,0], [1,0], [1,1], [0,-2], [1,-2]]
  },
  I: {
    '0->1': [[0,0], [-2,0], [1,0], [-2,-1], [1,2]],
    '1->0': [[0,0], [2,0], [-1,0], [2,1], [-1,-2]],
    '1->2': [[0,0], [-1,0], [2,0], [-1,2], [2,-1]],
    '2->1': [[0,0], [1,0], [-2,0], [1,-2], [-2,1]],
    '2->3': [[0,0], [2,0], [-1,0], [2,1], [-1,-2]],
    '3->2': [[0,0], [-2,0], [1,0], [-2,-1], [1,2]],
    '3->0': [[0,0], [1,0], [-2,0], [1,-2], [-2,1]],
    '0->3': [[0,0], [-1,0], [2,0], [-1,2], [2,-1]]
  }
};

// Scoring system
export const SCORING = {
  SINGLE: 100,
  DOUBLE: 300,
  TRIPLE: 500,
  TETRIS: 800,
  COMBO_BONUS: 50,
  SOFT_DROP: 1,
  HARD_DROP: 2,
  T_SPIN_MINI: 100,
  T_SPIN: 400,
  T_SPIN_SINGLE: 800,
  T_SPIN_DOUBLE: 1200,
  T_SPIN_TRIPLE: 1600
};

// Level speeds (milliseconds per cell fall)
export const LEVEL_SPEEDS = {
  1: 1000,
  2: 900,
  3: 800,
  4: 700,
  5: 600,
  6: 500,
  7: 400,
  8: 300,
  9: 250,
  10: 200,
  11: 180,
  12: 160,
  13: 140,
  14: 120,
  15: 100
};

export const MIN_FALL_SPEED = 100;
export const LINES_PER_LEVEL = 10;
export const LOCK_DELAY = 500; // milliseconds
export const MAX_LOCK_RESETS = 15;
